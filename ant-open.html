<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>alipayDoc</title>
    <style>
        /*公用部分*/
        *{
            margin:0;
            padding:0;
            border: 0;
            box-sizing:border-box;
            font-family:"Microsoft Yahei",Arial;
            font-size:16px;
        }
        a{
            text-decoration: none;
            color:inherit;
        }
        ul li{
            list-style: none;
        }
       /*侧边栏*/
        .sidebar{
            width:220px;
            /*height:1200px;*/
            background:#ffffff;
            overflow: hidden;
            border-right:1px solid #e7e7eb;
        }
        .sidebar h3{
            font-size:24px;
            color:#777;
            font-weight: 500;
            padding-left: 20px;
            margin-bottom: 15px;
            margin-top:35px;
        }
        .menu li{
            width:220px;
            height:53px;
            border-top:1px solid #e7e7eb;
            line-height: 52px;
            color:#333;
            padding-left: 20px;
            cursor: pointer;
        }
        .menu li:hover{
            background: #f5f7f7;
        }
        .ico:after{
            content: url("1.png");
            float:right;
            margin-right:10px;
        }
        /*script*/
        .box{
            width:220px;
            height:46px;
            display: block;
            padding-left: 40px;
            line-height: 46px;
            font-size:14px;
            color:#666;
            cursor:pointer;
        }
        .box:hover{
            background: #f5f7f7;
        }
        .boxClick{
            width:220px;
            height:46px;
            display: block;
            padding-left: 40px;
            line-height: 46px;
            font-size:14px;
            cursor:pointer;
            color:whitesmoke;
            background:#108fe9;
        }
        .ico1:after{
            content: url(2.png);
            float:right;
            margin-right:10px;
        }
    </style>
</head>
<body>
    <div class="sidebar">
        <h3>开放平台</h3>
        <ul class="menu">
            <li class="ico">开始前必读</li>
            <li class="ico">规则中心</li>
            <li class="ico">开始开发</li>
            <li class="ico">服务市场</li>
            <li class="ico">行业解决方案</li>
            <li class="ico">支付能力</li>
            <li class="ico">口碑开店能力</li>
            <li class="ico">会员营销</li>
            <li class="ico">支付宝卡券</li>
            <li class="ico">会员能力</li>
            <li class="ico">服务窗</li>
            <li class="ico">行业能力</li>
            <li class="ico">安全能力</li>
            <li class="ico">社交能力</li>
            <li class="ico">服务市场管理</li>
            <li class="ico">基础能力</li>
            <li class="ico">资源下载</li>
            <li><a href="javascript:;">历史接口</a></li>
            <li><a href="https://support.open.alipay.com/alipay/support/index.htm">我要咨询</a></li>
        </ul>
    </div>
    <script>
        var aLi = qsa('.menu li'),
            len = aLi.length,
            i,
            j = 0,
            timer,
            count,
            a1,
            a2,
            n1,m1,n2,m2,n3,m3,n4,m4,n5,m5,n6,m6,n7,m7,n8,m8,n9,m9,n10,m10,
            n11,m11,n12,m12,n13,m13,n14,m14,n15,m15,n16,m16,n17,m17,
            timer1,
            timer2,
            aBox,
            aIco,
            aBoxClick;

        for(;j < len;j++){
            div = document.createElement('div');
            aLi[j].insertAdjacentElement('afterEnd',div);
        }

        var aDiv = qsa('div');

        function qsa(selector){
            return document.querySelectorAll(selector)
        }

        aLi[0].addEventListener('click',function(){
            if(!n1){
                this.classList.remove('ico');
                this.classList.add('ico1');
                n1 = 1;
                i = 0;
                count = 0;
                createSidebar(1,3,'开放平台概述','新手入门','更新日志');
                timer1 = setTimeout(function(){
                    clearTimeout(timer1);
                    m1 = 1;
                    divBox();
                },200);
            }else if(m1){
                this.classList.remove('ico1');
                this.classList.add('ico');
                m1 = 0;
                n1++;
                i = 0;
                count = 0;
                delSidebar(1,3,2);
                timer2 = setTimeout(function(){
                    clearTimeout(timer2);
                    n1 = 0;
                },200);
            }
        });

        aLi[1].addEventListener('click',function(){
            if(!n2){
                this.classList.remove('ico');
                this.classList.add('ico1');
                n2 = 1;
                i = 0;
                count = 0;
                createSidebar(2,3,'公告区','协议专区','规则专区');
                timer1 = setTimeout(function(){
                    clearTimeout(timer1);
                    m2 =1;
                    divBox();
                },200);
            }else if(m2){
                this.classList.remove('ico1');
                this.classList.add('ico');
                m2 = 0;
                i = 0;
                count = 0;
                delSidebar(2,3,2);
                timer2 = setTimeout(function(){
                    clearTimeout(timer2);
                    n2 = 0;
                },200);
            }
        });

        aLi[2].addEventListener('click',function(){
            if(!n3){
                this.classList.remove('ico');
                this.classList.add('ico1');
                n3 = 1;
                i = 0;
                count = 0;
                createSidebar(3,6,'第一步 : 创建应用','第二步 : 配置应用','第三步 : 上线应用','如何使用应用','沙箱环境介绍','金融云产品介绍');
                timer1 = setTimeout(function(){
                    clearTimeout(timer1);
                    m3 = 1;
                    divBox();
                },350);
            }else if(m3){
                this.classList.remove('ico1');
                this.classList.add('ico');
                m3 = 0;
                i = 0;
                count = 0;
                delSidebar(3,6,5);
                timer2 = setTimeout(function(){
                    clearTimeout(timer2);
                    n3 = 0;
                },350);
            }
        });

        aLi[3].addEventListener('click',function(){
            if(!n4){
                this.classList.remove('ico');
                this.classList.add('ico1');
                n4 = 1;
                i = 0;
                count = 0;
                createSidebar(4,3,'服务创建及发布流程','商家订购服务流程','服务管理');
                timer1 = setTimeout(function(){
                    clearTimeout(timer1);
                    m4 = 1;
                    divBox();
                },200);
            }else if(m4){
                this.classList.remove('ico1');
                this.classList.add('ico');
                m4 = 0;
                i = 0;
                count = 0;
                delSidebar(4,3,2);
                timer2 = setTimeout(function(){
                    clearTimeout(timer2);
                    n4 = 0;
                },200);
            }
        });

        aLi[4].addEventListener('click',function(){
            if(!n5){
                this.classList.remove('ico');
                this.classList.add('ico1');
                n5 = 1;
                i = 0;
                count = 0;
                createSidebar(5,6,'休闲娱乐','摄影','亲子','运动健身','洗衣','丽人');
                timer1 = setTimeout(function(){
                    clearTimeout(timer1);
                    m5 = 1;
                    divBox();
                },350);
            }else if(m5){
                this.classList.remove('ico1');
                this.classList.add('ico');
                m5 = 0;
                i = 0;
                count = 0;
                delSidebar(5,6,5);
                timer2 = setTimeout(function(){
                    clearTimeout(timer2);
                    n5 = 0;
                },350);
            }
        });

        aLi[5].addEventListener('click',function(){
            if(!n6){
                this.classList.remove('ico');
                this.classList.add('ico1');
                n6 = 1;
                i = 0;
                count = 0;
                createSidebar(6,3,'当面付','App支付','手机网站支付');
                timer1 = setTimeout(function(){
                    clearTimeout(timer1);
                    m6 = 1;
                    divBox();
                },200);
            }else if(m6){
                this.classList.remove('ico1');
                this.classList.add('ico');
                m6 = 0;
                i = 0;
                count = 0;
                delSidebar(6,3,2);
                timer2 = setTimeout(function(){
                    clearTimeout(timer2);
                    n6 = 0;
                },200);
            }
        });

        aLi[6].addEventListener('click',function(){
            if(!n7){
                this.classList.remove('ico');
                this.classList.add('ico1');
                n7 = 1;
                i = 0;
                count = 0;
                createSidebar(7,3,'口碑开店','店铺数据','商家详情页广告');
                timer1 = setTimeout(function(){
                    clearTimeout(timer1);
                    m7 = 1;
                    divBox();
                },200);
            }else if(m7){
                this.classList.remove('ico1');
                this.classList.add('ico');
                m7 = 0;
                i = 0;
                count = 0;
                delSidebar(7,3,2);
                timer2 = setTimeout(function(){
                    clearTimeout(timer2);
                    n7 = 0;
                },200);
            }
        });

        aLi[7].addEventListener('click',function(){
            if(!n8){
                this.classList.remove('ico');
                this.classList.add('ico1');
                n8 = 1;
                i = 0;
                count = 0;
                createSidebar(8,4,'营销活动','会员分层','经营报表','自定义报表');
                timer1 = setTimeout(function(){
                    clearTimeout(timer1);
                    m8 = 1;
                    divBox();
                },250);
            }else if(m8){
                this.classList.remove('ico1');
                this.classList.add('ico');
                m8 = 0;
                i = 0;
                count = 0;
                delSidebar(8,4,3);
                timer2 = setTimeout(function(){
                    clearTimeout(timer2);
                    n8 = 0;
                },250);
            }
        });

        aLi[8].addEventListener('click',function(){
            if(!n9){
                this.classList.remove('ico');
                this.classList.add('ico1');
                n9 = 1;
                i = 0;
                count = 0;
                createSidebar(9,4,'产品介绍','快速接入','API详细说明','API列表');
                timer1 = setTimeout(function(){
                    clearTimeout(timer1);
                    m9 = 1;
                    divBox();
                },250);
            }else if(m9){
                this.classList.remove('ico1');
                this.classList.add('ico');
                m9 = 0;
                i = 0;
                count = 0;
                delSidebar(9,4,3);
                timer2 = setTimeout(function(){
                    clearTimeout(timer2);
                    n9 = 0;
                },250);
            }
        });

        aLi[9].addEventListener('click',function(){
            if(!n10){
                this.classList.remove('ico');
                this.classList.add('ico1');
                n10 = 1;
                i = 0;
                count = 0;
                createSidebar(10,2,'App支付宝登入','获取会员信息');
                timer1 = setTimeout(function(){
                    clearTimeout(timer1);
                    m10 = 1;
                    divBox();
                },150);
            }else if(m10){
                this.classList.remove('ico1');
                this.classList.add('ico');
                m10 = 0;
                i = 0;
                count = 0;
                delSidebar(10,2,1);
                timer2 = setTimeout(function(){
                    clearTimeout(timer2);
                    n10 = 0;
                },150);
            }
        });

        aLi[10].addEventListener('click',function(){
            if(!n11){
                this.classList.remove('ico');
                this.classList.add('ico1');
                n11 = 1;
                i = 0;
                count = 0;
                createSidebar(11,11,'产品介绍','快速接入','基础信息设置','菜单维护','推广支持','事件订阅','发送消息','服务窗标签','绑定商户会员号','消息模板','获取用户信息');
                timer1 = setTimeout(function(){
                    clearTimeout(timer1);
                    m11 = 1;
                    divBox();
                },600);
            }else if(m11){
                this.classList.remove('ico1');
                this.classList.add('ico');
                m11 = 0;
                i = 0;
                count = 0;
                delSidebar(11,11,10);
                timer2 = setTimeout(function(){
                    clearTimeout(timer2);
                    n11 = 0;
                },600);
            }
        });

        aLi[11].addEventListener('click',function(){
            if(!n12){
                this.classList.remove('ico');
                this.classList.add('ico1');
                n12 = 1;
                i = 0;
                count = 0;
                createSidebar(12,2,'地铁线上购票','生活缴费');
                timer1 = setTimeout(function(){
                    clearTimeout(timer1);
                    m12 = 1;
                    divBox();
                },150);
            }else if(m12){
                this.classList.remove('ico1');
                this.classList.add('ico');
                m12 = 0;
                i = 0;
                count = 0;
                delSidebar(12,2,1);
                timer2 = setTimeout(function(){
                    clearTimeout(timer2);
                    n12 = 0;
                },150);
            }
        });

        aLi[12].addEventListener('click',function(){
            if(!n13){
                this.classList.remove('ico');
                this.classList.add('ico1');
                n13 = 1;
                i = 0;
                count = 0;
                createSidebar(13,1,'"蚁盾"风险评分');
                timer1 = setTimeout(function(){
                    clearTimeout(timer1);
                    m13 = 1;
                    divBox();
                },100);
            }else if(m13){
                this.classList.remove('ico1');
                this.classList.add('ico');
                m13 = 0;
                i = 0;
                count = 0;
                delSidebar(13,1,0);
                timer2 = setTimeout(function(){
                    clearTimeout(timer2);
                    n13 = 0;
                },100);
            }
        });

        aLi[13].addEventListener('click',function(){
            if(!n14){
                this.classList.remove('ico');
                this.classList.add('ico1');
                n14 = 1;
                i = 0;
                count = 0;
                createSidebar(14,1,'社交能力');
                timer1 = setTimeout(function(){
                    clearTimeout(timer1);
                    m14 = 1;
                    divBox();
                },100);
            }else if(m14){
                this.classList.remove('ico1');
                this.classList.add('ico');
                m14 = 0;
                i = 0;
                count = 0;
                delSidebar(14,1,0);
                timer2 = setTimeout(function(){
                    clearTimeout(timer2);
                    n14 = 0;
                },100);
            }
        });

        aLi[14].addEventListener('click',function(){
            if(!n15){
                this.classList.remove('ico');
                this.classList.add('ico1');
                n15 = 1;
                i = 0;
                count = 0;
                createSidebar(15,4,'产品介绍','快速接入','API列表','API线上测试门店开通流程');
                timer1 = setTimeout(function(){
                    clearTimeout(timer1);
                    m15 = 1;
                    divBox();
                },250);
            }else if(m15){
                this.classList.remove('ico1');
                this.classList.add('ico');
                m15 = 0;
                i = 0;
                count = 0;
                delSidebar(15,4,3);
                timer2 = setTimeout(function(){
                    clearTimeout(timer2);
                    n15 = 0;
                },250);
            }
        });

        aLi[15].addEventListener('click',function(){
            if(!n16){
                this.classList.remove('ico');
                this.classList.add('ico1');
                n16 = 1;
                i = 0;
                count = 0;
                createSidebar(16,3,'业务保障能力','图片资料上传','第三方应用授权');
                timer1 = setTimeout(function(){
                    clearTimeout(timer1);
                    m16 = 1;
                    divBox();
                },200);
            }else if(m16){
                this.classList.remove('ico1');
                this.classList.add('ico');
                m16 = 0;
                i = 0;
                count = 0;
                delSidebar(16,3,2);
                timer2 = setTimeout(function(){
                    clearTimeout(timer2);
                    n16 = 0;
                },200);
            }
        });

        aLi[16].addEventListener('click',function(){
            if(!n17){
                this.classList.remove('ico');
                this.classList.add('ico1');
                n17 = 1;
                i = 0;
                count = 0;
                createSidebar(17,3,'开发工具包下载','视觉资源下载','支付宝H5样式库');
                timer1 = setTimeout(function(){
                    clearTimeout(timer1);
                    m17 = 1;
                    divBox();
                },200);
            }else if(m17){
                this.classList.remove('ico1');
                this.classList.add('ico');
                m17 = 0;
                i = 0;
                count = 0;
                delSidebar(17,3,2);
                timer2 = setTimeout(function(){
                    clearTimeout(timer2);
                    n17 = 0;
                },200);
            }
        });


       function divBox(){
           aIco = qsa('.ico');
           aBox = qsa('.box');
           aBoxClick = qsa('.boxClick');
           lenIco = aIco.length;
           lenBox = aBox.length;
           lenClick = aBoxClick.length;
           /*for(var x = 0;x < lenIco;x++){
               aIco[x].onclick = function(){

               }
           }*/
           for(var m = 0;m < lenBox;m++){
               aBox[m].onclick = function(){
                   if(lenClick){
                       aBoxClick[0].classList.remove('boxClick');
                       aBoxClick[0].classList.add('box');
                   }
                   if(this.classList.contains('ico')){
                       this.classList.remove('ico');
                       this.classList.add('ico1');
                   }else if(this.classList.contains('ico1')){
                       this.classList.remove('ico1');
                       this.classList.add('ico');
                   }
                   for(var m = 0;m < lenBox;m++){
                       aBox[m].classList.add('box');
                       aBox[m].classList.remove('boxClick');
                   }
                   this.classList.remove('box');
                   this.classList.add('boxClick');
               }
           }
       }


        function createSidebar(index,number,b,c,d,e,f,g,h,j,k,l,m){
            timer = setInterval(function(){
                if(count !== number){
                    var a = document.createElement('a');
                    a.classList.add('box');
                    switch (i){
                        case 0:
                            a.innerHTML = b;
                            break;
                        case 1:
                            a.innerHTML = c;
                            break;
                        case 2:
                            a.innerHTML = d;
                            break;
                        case 3:
                            a.innerHTML = e;
                            break;
                        case 4:
                            a.innerHTML = f;
                            break;
                        case 5:
                            a.innerHTML = g;
                            break;
                        case 6:
                            a.innerHTML = h;
                            break;
                        case 7:
                            a.innerHTML = j;
                            break;
                        case 8:
                            a.innerHTML = k;
                            break;
                        case 9:
                            a.innerHTML = l;
                            break;
                        case 10:
                            a.innerHTML = m;
                            break;
                    }
                    if(a.innerHTML=='新手入门'||a.innerHTML=='第二步 : 配置应用'||a.innerHTML=='当面付'
                    ||a.innerHTML=='App支付'||a.innerHTML=='手机网站支付'||a.innerHTML=='口碑开店'||
                        a.innerHTML=='店铺数据'||a.innerHTML=='商家详情页广告'||a.innerHTML=='营销活动'||
                        a.innerHTML=='会员分层'||a.innerHTML=='经营报表'||a.innerHTML=='自定义报表'||
                        a.innerHTML=='App支付宝登入'||a.innerHTML=='获取会员信息'||a.innerHTML=='地铁线上购票'||
                        a.innerHTML=='生活缴费'||a.innerHTML=='"蚁盾"风险评分'||a.innerHTML=='分享到支付宝'||
                        a.innerHTML=='业务保障能力'||a.innerHTML=='开发工具包下载')
                        a.classList.add('ico');
                    i++;
                    aDiv[index].appendChild(a);
                    count++;
                }else{
                    clearInterval(timer);
                }
            },50);
        }


        function delSidebar(index,number,offIndex){
            timer = setInterval(function(){
                if(count !== number){
                    a1 = aDiv[index];
                    a1.removeChild(a1.querySelectorAll('a')[offIndex]);
                    count++;
                    offIndex--;
                }else{
                    clearInterval(timer);
                }
            },50)
        }
    </script>
</body>
</html>
